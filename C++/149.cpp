#include <iostream> // 引入输入输出流库，用于标准输入输出操作
#include <vector>   // 引入向量容器库，用于存储二维网格数据
#include <string>   // 引入字符串库，用于处理每一行的字符输入

using namespace std; // 使用标准命名空间，以便直接使用cout、cin、vector等标准库元素

int N, M; // 声明全局变量N和M，N表示网格的行数，M表示网格的列数
vector<string> field; // 声明一个全局的字符串向量field，用于存储整个田地的网格状态

// 深度优先搜索（DFS）函数，用于从给定的坐标(x, y)开始遍历并标记连通的水坑
void dfs(int x, int y) { // 定义DFS函数，参数x和y为当前处理的网格坐标
    field[x][y] = '.'; // 将当前位置的字符修改为'.'，表示该水坑部分已经被访问过，避免重复计数

    // 使用双重循环遍历当前位置周围的8个相邻格子（包括上下左右及对角线方向）
    for (int dx = -1; dx <= 1; dx++) { // 外层循环：遍历x轴方向的偏移量，从-1到1
        for (int dy = -1; dy <= 1; dy++) { // 内层循环：遍历y轴方向的偏移量，从-1到1
            int nx = x + dx; // 计算相邻格子的新行坐标nx
            int ny = y + dy; // 计算相邻格子的新列坐标ny

            // 检查新坐标(nx, ny)是否在网格的有效范围内，防止数组越界访问
            if (nx >= 0 && nx < N && ny >= 0 && ny < M) { // 如果nx在[0, N-1]范围内且ny在[0, M-1]范围内
                if (field[nx][ny] == 'W') { // 检查该相邻格子是否是水坑（字符为'W'）
                    dfs(nx, ny); // 如果是水坑，则递归调用dfs函数，继续搜索并标记该相邻水坑的连通部分
                } // 结束水坑判断的if语句
            } // 结束边界检查的if语句
        } // 结束内层dy循环
    } // 结束外层dx循环
} // 结束dfs函数

int main() { // 主函数，程序的入口点
    // 从标准输入读取网格的行数N和列数M
    if (cin >> N >> M) { // 如果成功读取到N和M，则进入if块执行后续逻辑
        field.resize(N); // 调整全局向量field的大小，使其包含N个元素（即N行）
        
        // 循环读取每一行的网格数据
        for (int i = 0; i < N; i++) { // 遍历从第0行到第N-1行
            cin >> field[i]; // 读取一行字符串，并存储到field向量的第i个位置
        } // 结束读取输入的循环

        int count = 0; // 声明并初始化一个整型变量count，用于记录水坑的总数量，初始值为0

        // 使用双重循环遍历整个网格的每一个格子
        for (int i = 0; i < N; i++) { // 外层循环：遍历网格的每一行，索引从0到N-1
            for (int j = 0; j < M; j++) { // 内层循环：遍历网格的每一列，索引从0到M-1
                if (field[i][j] == 'W') { // 检查当前遍历到的格子(i, j)是否为水坑（字符为'W'）
                    dfs(i, j); // 如果是水坑，调用dfs函数从该位置开始进行深度优先搜索，标记整个连通的水坑
                    count++; // 发现一个新的独立水坑，计数器count加1
                } // 结束水坑判断的if语句
            } // 结束内层列循环
        } // 结束外层行循环

        cout << count << endl; // 将计算出的水坑总数输出到标准输出，并换行
    } // 结束输入读取判断的if语句
    
    return 0; // 主函数返回0，表示程序正常结束
} // 结束main函数
