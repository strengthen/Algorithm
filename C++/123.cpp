#include <stdio.h> // 引入标准输入输出库

int main() { // 主函数入口
    long long int T, n, a, i = 0, j, max, sum; // 定义长整型变量T(组数), n(种类数), a(当前数量), i(循环计数), j(循环计数), max(最大数量), sum(总数)
    scanf("%lld", &T); // 读取测试数据的组数T
    i = 0; // 初始化i为0
    while (i < T) // 当i小于T时循环，处理每一组数据
    {
        j = 1; // 初始化j为1，用于遍历卡牌种类
        scanf("%lld", &n); // 读取卡牌种类数n
        max = 0; // 初始化当前组的最大卡牌数量为0
        sum = 0; // 初始化当前组的卡牌总数为0
        while (j <= n) // 当j小于等于n时循环，读取每种卡牌的数量
        {
            scanf("%lld", &a); // 读取第j种卡牌的数量a
            if (a > max) // 如果当前卡牌数量a大于max
                max = a; // 更新max为当前卡牌数量a
            sum = sum + a; // 累加卡牌数量到sum
            j++; // j自增，准备读取下一种卡牌
        }
        if (n < 2) // 如果卡牌种类数n小于2（只有1种）
            printf("-1\n"); // 无法凑成不同种类，输出-1
        else if (max == 1) // 如果所有卡牌数量的最大值也是1（说明每种牌只有1张）
            printf("0\n"); // 任意抽两张都不同，不需要预知，输出0
        else if (max == sum - n + 1) // 如果最大数量等于总数减去(n-1)，即除了最多的那种，其他每种只有1张
            printf("%lld\n", max - 1); // 这种特殊情况只需要预知max-1张即可
        else // 其他情况
            printf("%lld\n", max); // 需要预知max张卡牌

        i++; // i自增，处理下一组数据
    }
    return 0; // 程序结束，返回0
}